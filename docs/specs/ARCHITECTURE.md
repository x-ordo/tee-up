---
title: TEE:UP ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
version: 1.0.0
status: Approved
owner: "@tech-lead"
created: 2025-11-25
updated: 2025-11-25
reviewers: ["@backend-lead", "@frontend-lead", "@devops-lead"]
language: Korean (í•œêµ­ì–´)
---

# ARCHITECTURE.md

## ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ì„¤ê³„

> **ë³¸ ë¬¸ì„œëŠ” TEE:UP í”Œë«í¼ì˜ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.**

---

## ë³€ê²½ ì´ë ¥ (Changelog)

| ë²„ì „ | ë‚ ì§œ | ì‘ì„±ì | ë³€ê²½ ë‚´ìš© |
|------|------|--------|----------|
| 1.0.0 | 2025-11-25 | @tech-lead | ìµœì´ˆ ì‘ì„± |

## ê´€ë ¨ ë¬¸ì„œ (Related Documents)

- [CONTEXT.md](../../CONTEXT.md) â€” ì‹œìŠ¤í…œ ì»¨í…ìŠ¤íŠ¸
- [API_SPEC.md](API_SPEC.md) â€” REST API ëª…ì„¸
- [DATA_MODEL.md](DATA_MODEL.md) â€” ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
- [ADR-0001-tech-stack.md](ADRs/ADR-0001-tech-stack.md) â€” ê¸°ìˆ  ìŠ¤íƒ ê²°ì •

---

## 1. ì•„í‚¤í…ì²˜ ê°œìš”

### 1.1 ì‹œìŠ¤í…œ ì»¨í…ìŠ¤íŠ¸ ë‹¤ì´ì–´ê·¸ë¨ (C4 Level 1)

```mermaid
graph TB
    subgraph External["ì™¸ë¶€ ì‚¬ìš©ì"]
        Golfer["ğŸ‘¤ ê³¨í¼<br/>(ì¼ë°˜ ì‚¬ìš©ì)"]
        Pro["ğŸŒï¸ í”„ë¡œ<br/>(ì„œë¹„ìŠ¤ ì œê³µì)"]
        Admin["ğŸ‘¨â€ğŸ’¼ ê´€ë¦¬ì"]
    end

    subgraph ExternalServices["ì™¸ë¶€ ì„œë¹„ìŠ¤"]
        Toss["ğŸ’³ Toss Payments<br/>(ê²°ì œ)"]
        Cloudinary["â˜ï¸ Cloudinary<br/>(ë¯¸ë””ì–´)"]
        Kakao["ğŸ’¬ KakaoTalk<br/>(ì„ì‹œ ì±„íŒ…)"]
        Analytics["ğŸ“Š Analytics<br/>(GA/Mixpanel)"]
    end

    TEEUP["ğŸŒï¸ TEE:UP<br/>ê³¨í”„ ë ˆìŠ¨ ë§¤ì¹­ í”Œë«í¼"]

    Golfer --> TEEUP
    Pro --> TEEUP
    Admin --> TEEUP
    TEEUP --> Toss
    TEEUP --> Cloudinary
    TEEUP --> Kakao
    TEEUP --> Analytics
```

### 1.2 ì»¨í…Œì´ë„ˆ ë‹¤ì´ì–´ê·¸ë¨ (C4 Level 2)

```mermaid
graph TB
    subgraph External["ì‚¬ìš©ì"]
        User["ğŸ‘¤ ì‚¬ìš©ì<br/>(ë¸Œë¼ìš°ì €/ëª¨ë°”ì¼)"]
    end

    subgraph TEEUPSystem["TEE:UP ì‹œìŠ¤í…œ"]
        subgraph Frontend["í”„ë¡ íŠ¸ì—”ë“œ"]
            NextJS["ğŸ“± Next.js App<br/>(SSR/CSR)"]
        end

        subgraph Backend["ë°±ì—”ë“œ"]
            Express["âš™ï¸ Express API<br/>(REST)"]
        end

        subgraph Database["ë°ì´í„°ë² ì´ìŠ¤"]
            Supabase["ğŸ—„ï¸ Supabase<br/>(PostgreSQL)"]
            Auth["ğŸ” Supabase Auth"]
            Realtime["ğŸ“¡ Supabase Realtime"]
            Storage["ğŸ“¦ Supabase Storage"]
        end
    end

    subgraph External Services["ì™¸ë¶€ ì„œë¹„ìŠ¤"]
        CDN["ğŸŒ Vercel CDN"]
        Toss["ğŸ’³ Toss Payments"]
        Cloudinary["â˜ï¸ Cloudinary"]
    end

    User --> CDN
    CDN --> NextJS
    NextJS --> Express
    NextJS --> Auth
    Express --> Supabase
    Express --> Realtime
    NextJS --> Storage
    Express --> Toss
    Express --> Cloudinary
```

---

## 2. ê¸°ìˆ  ìŠ¤íƒ

### 2.1 í”„ë¡ íŠ¸ì—”ë“œ

| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ | ì„ íƒ ì´ìœ  |
|------|------|------|----------|
| **Next.js** | 14.x | í’€ìŠ¤íƒ í”„ë ˆì„ì›Œí¬ | SSR/SSG, App Router, ìµœì‹  React ì§€ì› |
| **React** | 18.x | UI ë¼ì´ë¸ŒëŸ¬ë¦¬ | ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜, í’ë¶€í•œ ìƒíƒœê³„ |
| **TypeScript** | 5.x | ì •ì  íƒ€ì… | íƒ€ì… ì•ˆì „ì„±, ê°œë°œ ìƒì‚°ì„± |
| **Tailwind CSS** | 3.x | ìŠ¤íƒ€ì¼ë§ | ìœ í‹¸ë¦¬í‹° ìš°ì„ , ë¹ ë¥¸ ê°œë°œ |
| **Zustand** | 4.x | ìƒíƒœ ê´€ë¦¬ | ê²½ëŸ‰, ê°„ë‹¨í•œ API |

### 2.2 ë°±ì—”ë“œ

| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ | ì„ íƒ ì´ìœ  |
|------|------|------|----------|
| **Express.js** | 4.x | API ì„œë²„ | ìœ ì—°ì„±, ë¯¸ë“¤ì›¨ì–´ ìƒíƒœê³„ |
| **TypeScript** | 5.x | ì •ì  íƒ€ì… | í”„ë¡ íŠ¸ì—”ë“œì™€ íƒ€ì… ê³µìœ  |
| **Supabase** | - | BaaS | PostgreSQL + Auth + Realtime í†µí•© |
| **Zod** | 3.x | ìŠ¤í‚¤ë§ˆ ê²€ì¦ | ëŸ°íƒ€ì„ íƒ€ì… ê²€ì¦ |

### 2.3 ì¸í”„ë¼

| ì„œë¹„ìŠ¤ | ìš©ë„ | í™˜ê²½ |
|--------|------|------|
| **Vercel** | í”„ë¡ íŠ¸ì—”ë“œ í˜¸ìŠ¤íŒ… | Production |
| **Railway/Fly.io** | ë°±ì—”ë“œ í˜¸ìŠ¤íŒ… | Production |
| **Supabase Cloud** | ë°ì´í„°ë² ì´ìŠ¤ | Production |
| **Cloudinary** | ë¯¸ë””ì–´ ì €ì¥ | Production |

---

## 3. ì»´í¬ë„ŒíŠ¸ ì•„í‚¤í…ì²˜

### 3.1 í”„ë¡ íŠ¸ì—”ë“œ ì•„í‚¤í…ì²˜

```
web/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ (public)/           # ê³µê°œ í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx        # í™ˆí˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ pros/           # í”„ë¡œ ëª©ë¡/ìƒì„¸
â”‚   â”‚   â”‚   â””â”€â”€ about/          # ì†Œê°œ í˜ì´ì§€
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ (auth)/             # ì¸ì¦ í•„ìš” í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/      # í”„ë¡œ ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”‚   â”œâ”€â”€ chat/           # ì±„íŒ…
â”‚   â”‚   â”‚   â””â”€â”€ settings/       # ì„¤ì •
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ admin/              # ê´€ë¦¬ì í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx      # ê´€ë¦¬ì ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ pros/           # í”„ë¡œ ê´€ë¦¬
â”‚   â”‚   â”‚   â””â”€â”€ analytics/      # ë¶„ì„
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ api/                # API Routes
â”‚   â”‚   â”‚   â””â”€â”€ [...].ts        # API ì—”ë“œí¬ì¸íŠ¸
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ layout.tsx          # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â””â”€â”€ globals.css         # ê¸€ë¡œë²Œ ìŠ¤íƒ€ì¼
â”‚   â”‚
â”‚   â”œâ”€â”€ components/             # React ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ ui/                 # ê¸°ë³¸ UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Card.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Input.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ features/           # ê¸°ëŠ¥ë³„ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ pro/            # í”„ë¡œ ê´€ë ¨
â”‚   â”‚   â”‚   â”œâ”€â”€ chat/           # ì±„íŒ… ê´€ë ¨
â”‚   â”‚   â”‚   â””â”€â”€ auth/           # ì¸ì¦ ê´€ë ¨
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ layouts/            # ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚       â”œâ”€â”€ Header.tsx
â”‚   â”‚       â”œâ”€â”€ Footer.tsx
â”‚   â”‚       â””â”€â”€ Sidebar.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/                    # ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â”œâ”€â”€ supabase/           # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ utils/              # í—¬í¼ í•¨ìˆ˜
â”‚   â”‚   â””â”€â”€ hooks/              # ì»¤ìŠ¤í…€ í›…
â”‚   â”‚
â”‚   â”œâ”€â”€ stores/                 # ìƒíƒœ ê´€ë¦¬ (Zustand)
â”‚   â”‚   â”œâ”€â”€ authStore.ts
â”‚   â”‚   â””â”€â”€ chatStore.ts
â”‚   â”‚
â”‚   â””â”€â”€ types/                  # TypeScript íƒ€ì…
â”‚       â”œâ”€â”€ user.ts
â”‚       â”œâ”€â”€ pro.ts
â”‚       â””â”€â”€ api.ts
â”‚
â”œâ”€â”€ public/                     # ì •ì  íŒŒì¼
â”œâ”€â”€ next.config.js
â”œâ”€â”€ tailwind.config.js
â””â”€â”€ package.json
```

### 3.2 ë°±ì—”ë“œ ì•„í‚¤í…ì²˜

```
api/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ routes/                 # API ë¼ìš°íŠ¸
â”‚   â”‚   â”œâ”€â”€ index.ts            # ë¼ìš°íŠ¸ ì§‘í•©
â”‚   â”‚   â”œâ”€â”€ auth.routes.ts      # ì¸ì¦ ë¼ìš°íŠ¸
â”‚   â”‚   â”œâ”€â”€ profiles.routes.ts  # í”„ë¡œí•„ ë¼ìš°íŠ¸
â”‚   â”‚   â”œâ”€â”€ chat.routes.ts      # ì±„íŒ… ë¼ìš°íŠ¸
â”‚   â”‚   â””â”€â”€ admin.routes.ts     # ê´€ë¦¬ì ë¼ìš°íŠ¸
â”‚   â”‚
â”‚   â”œâ”€â”€ controllers/            # ì»¨íŠ¸ë¡¤ëŸ¬ (ìš”ì²­ ì²˜ë¦¬)
â”‚   â”‚   â”œâ”€â”€ auth.controller.ts
â”‚   â”‚   â”œâ”€â”€ profiles.controller.ts
â”‚   â”‚   â””â”€â”€ chat.controller.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ services/               # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ auth.service.ts
â”‚   â”‚   â”œâ”€â”€ profiles.service.ts
â”‚   â”‚   â”œâ”€â”€ chat.service.ts
â”‚   â”‚   â””â”€â”€ subscription.service.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ repositories/           # ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ
â”‚   â”‚   â”œâ”€â”€ user.repository.ts
â”‚   â”‚   â”œâ”€â”€ profile.repository.ts
â”‚   â”‚   â””â”€â”€ chat.repository.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ middleware/             # ë¯¸ë“¤ì›¨ì–´
â”‚   â”‚   â”œâ”€â”€ auth.middleware.ts  # ì¸ì¦ ê²€ì¦
â”‚   â”‚   â”œâ”€â”€ error.middleware.ts # ì—ëŸ¬ ì²˜ë¦¬
â”‚   â”‚   â”œâ”€â”€ rate-limit.ts       # ìš”ì²­ ì œí•œ
â”‚   â”‚   â””â”€â”€ validation.ts       # ì…ë ¥ ê²€ì¦
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/                    # ë¼ì´ë¸ŒëŸ¬ë¦¬
â”‚   â”‚   â”œâ”€â”€ supabase.ts         # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ logger.ts           # ë¡œê¹…
â”‚   â”‚   â””â”€â”€ errors.ts           # ì»¤ìŠ¤í…€ ì—ëŸ¬
â”‚   â”‚
â”‚   â”œâ”€â”€ types/                  # TypeScript íƒ€ì…
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ config/                 # ì„¤ì •
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â””â”€â”€ app.ts                  # Express ì•± ì„¤ì •
â”‚
â”œâ”€â”€ tests/                      # í…ŒìŠ¤íŠ¸
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

---

## 4. ë°ì´í„° íë¦„

### 4.1 ì‚¬ìš©ì ì¸ì¦ íë¦„

```mermaid
sequenceDiagram
    participant U as ì‚¬ìš©ì
    participant FE as Next.js
    participant BE as Express API
    participant Auth as Supabase Auth
    participant DB as PostgreSQL

    U->>FE: ë¡œê·¸ì¸ ìš”ì²­
    FE->>Auth: signInWithPassword
    Auth->>Auth: ìê²©ì¦ëª… ê²€ì¦
    Auth-->>FE: JWT í† í° ë°˜í™˜
    FE->>FE: í† í° ì €ì¥ (ì¿ í‚¤)
    FE->>BE: API ìš”ì²­ (í† í° í¬í•¨)
    BE->>Auth: í† í° ê²€ì¦
    Auth-->>BE: ì‚¬ìš©ì ì •ë³´
    BE->>DB: ë°ì´í„° ì¡°íšŒ
    DB-->>BE: ê²°ê³¼
    BE-->>FE: ì‘ë‹µ
    FE-->>U: í™”ë©´ ë Œë”ë§
```

### 4.2 í”„ë¡œ í”„ë¡œí•„ ì¡°íšŒ íë¦„

```mermaid
sequenceDiagram
    participant U as ì‚¬ìš©ì
    participant FE as Next.js
    participant BE as Express API
    participant DB as PostgreSQL
    participant CDN as Cloudinary

    U->>FE: /pros/kim-jiyoung ì ‘ì†
    FE->>BE: GET /api/profiles/kim-jiyoung
    BE->>DB: í”„ë¡œí•„ ì¡°íšŒ
    DB-->>BE: í”„ë¡œí•„ ë°ì´í„°
    BE-->>FE: JSON ì‘ë‹µ
    FE->>CDN: ì´ë¯¸ì§€ ë¡œë“œ
    CDN-->>FE: ìµœì í™”ëœ ì´ë¯¸ì§€
    FE-->>U: í”„ë¡œí•„ í˜ì´ì§€ ë Œë”ë§
```

### 4.3 ì‹¤ì‹œê°„ ì±„íŒ… íë¦„ (Phase 2)

```mermaid
sequenceDiagram
    participant G as ê³¨í¼
    participant FE1 as ê³¨í¼ í´ë¼ì´ì–¸íŠ¸
    participant RT as Supabase Realtime
    participant DB as PostgreSQL
    participant FE2 as í”„ë¡œ í´ë¼ì´ì–¸íŠ¸
    participant P as í”„ë¡œ

    G->>FE1: ë©”ì‹œì§€ ì „ì†¡
    FE1->>DB: INSERT message
    DB->>RT: ë³€ê²½ ì´ë²¤íŠ¸
    RT->>FE2: ì‹¤ì‹œê°„ ì•Œë¦¼
    FE2-->>P: ìƒˆ ë©”ì‹œì§€ í‘œì‹œ
```

---

## 5. ë³´ì•ˆ ì•„í‚¤í…ì²˜

### 5.1 ì¸ì¦ ë° ì¸ê°€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ë³´ì•ˆ ê³„ì¸µ êµ¬ì¡°                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   HTTPS     â”‚  â”‚   CORS      â”‚  â”‚   CSP       â”‚         â”‚
â”‚  â”‚   (TLS 1.3) â”‚  â”‚   Policy    â”‚  â”‚   Headers   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                         â”‚                                   â”‚
â”‚                         â–¼                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚              Supabase Auth (JWT)                 â”‚       â”‚
â”‚  â”‚  - Access Token (15ë¶„)                           â”‚       â”‚
â”‚  â”‚  - Refresh Token (7ì¼)                           â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                         â”‚                                   â”‚
â”‚                         â–¼                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚           Row Level Security (RLS)               â”‚       â”‚
â”‚  â”‚  - ì‚¬ìš©ìë³„ ë°ì´í„° ì ‘ê·¼ ì œì–´                       â”‚       â”‚
â”‚  â”‚  - ì—­í•  ê¸°ë°˜ ê¶Œí•œ ê´€ë¦¬                            â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´ (RBAC)

| ì—­í•  | ê¶Œí•œ |
|------|------|
| **golfer** | í”„ë¡œ ì¡°íšŒ, ì±„íŒ… ìƒì„±, ìì‹ ì˜ í”„ë¡œí•„ ê´€ë¦¬ |
| **pro** | golfer ê¶Œí•œ + í”„ë¡œ í”„ë¡œí•„ ê´€ë¦¬, ëŒ€ì‹œë³´ë“œ ì ‘ê·¼ |
| **admin** | ëª¨ë“  ê¶Œí•œ + í”„ë¡œ ìŠ¹ì¸, ì‚¬ìš©ì ê´€ë¦¬, ë¶„ì„ |

### 5.3 ë°ì´í„° ì•”í˜¸í™”

| ìƒíƒœ | ë°©ë²• |
|------|------|
| **ì „ì†¡ ì¤‘ (In Transit)** | TLS 1.3, HTTPS í•„ìˆ˜ |
| **ì €ì¥ ì‹œ (At Rest)** | Supabase ìë™ ì•”í˜¸í™” (AES-256) |
| **ë¯¼ê° ë°ì´í„°** | ì¶”ê°€ ì•”í˜¸í™” (ì „í™”ë²ˆí˜¸, ê²°ì œ ì •ë³´) |

---

## 6. í™•ì¥ì„± ì„¤ê³„

### 6.1 ìˆ˜í‰ í™•ì¥

```mermaid
graph LR
    subgraph "ë¡œë“œ ë°¸ëŸ°ì„œ"
        LB[Vercel Edge]
    end

    subgraph "í”„ë¡ íŠ¸ì—”ë“œ (Serverless)"
        FE1[Next.js Instance 1]
        FE2[Next.js Instance 2]
        FE3[Next.js Instance N]
    end

    subgraph "ë°±ì—”ë“œ (Container)"
        BE1[Express Instance 1]
        BE2[Express Instance 2]
    end

    subgraph "ë°ì´í„°ë² ì´ìŠ¤"
        DB[(Supabase<br/>PostgreSQL)]
        Cache[(Redis<br/>ìºì‹œ)]
    end

    LB --> FE1
    LB --> FE2
    LB --> FE3
    FE1 --> BE1
    FE2 --> BE2
    FE3 --> BE1
    BE1 --> DB
    BE2 --> DB
    BE1 --> Cache
    BE2 --> Cache
```

### 6.2 ìºì‹± ì „ëµ

| ë ˆì´ì–´ | ë„êµ¬ | TTL | ëŒ€ìƒ |
|--------|------|-----|------|
| **CDN** | Vercel Edge | 1ì‹œê°„ | ì •ì  ìì‚°, ì´ë¯¸ì§€ |
| **API** | Redis | 5ë¶„ | í”„ë¡œ ëª©ë¡, ì¸ê¸° í”„ë¡œí•„ |
| **DB** | PostgreSQL | - | ì¿¼ë¦¬ ê²°ê³¼ ìºì‹± |
| **í´ë¼ì´ì–¸íŠ¸** | SWR/React Query | 30ì´ˆ | API ì‘ë‹µ |

### 6.3 ì„±ëŠ¥ ëª©í‘œ

| ì§€í‘œ | ëª©í‘œ | í˜„ì¬ |
|------|------|------|
| **LCP** | < 2.5s | TBD |
| **FID** | < 100ms | TBD |
| **CLS** | < 0.1 | TBD |
| **API P95** | < 200ms | TBD |
| **DB Query** | < 50ms | TBD |

---

## 7. ë°°í¬ ì•„í‚¤í…ì²˜

### 7.1 í™˜ê²½ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ë°°í¬ íŒŒì´í”„ë¼ì¸                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚   Dev    â”‚â”€â”€â”€â–¶â”‚ Staging  â”‚â”€â”€â”€â–¶â”‚Productionâ”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚       â”‚               â”‚               â”‚                     â”‚
â”‚       â”‚               â”‚               â”‚                     â”‚
â”‚  [ìë™ ë°°í¬]      [ìë™ ë°°í¬]      [ìˆ˜ë™ ìŠ¹ì¸]               â”‚
â”‚  (dev í‘¸ì‹œ)     (main í‘¸ì‹œ)     (ë¦´ë¦¬ìŠ¤ íƒœê·¸)              â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 ì¸í”„ë¼ êµ¬ì„±

| í™˜ê²½ | í”„ë¡ íŠ¸ì—”ë“œ | ë°±ì—”ë“œ | ë°ì´í„°ë² ì´ìŠ¤ |
|------|-----------|--------|-------------|
| **Development** | Vercel Preview | Railway Dev | Supabase Dev |
| **Staging** | Vercel Staging | Railway Staging | Supabase Staging |
| **Production** | Vercel Prod | Railway Prod | Supabase Prod |

---

## 8. ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…

### 8.1 ëª¨ë‹ˆí„°ë§ ìŠ¤íƒ

| ë„êµ¬ | ìš©ë„ |
|------|------|
| **Sentry** | ì—ëŸ¬ íŠ¸ë˜í‚¹, ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ |
| **Vercel Analytics** | í”„ë¡ íŠ¸ì—”ë“œ ì„±ëŠ¥ |
| **Supabase Dashboard** | DB ì„±ëŠ¥, ì¿¼ë¦¬ ë¶„ì„ |
| **UptimeRobot** | ê°€ìš©ì„± ëª¨ë‹ˆí„°ë§ |

### 8.2 ë¡œê¹… ì „ëµ

```typescript
// ë¡œê·¸ ë ˆë²¨
enum LogLevel {
  DEBUG = 'debug',   // ê°œë°œ í™˜ê²½ë§Œ
  INFO = 'info',     // ì •ìƒ ë™ì‘
  WARN = 'warn',     // ì£¼ì˜ í•„ìš”
  ERROR = 'error',   // ì—ëŸ¬ ë°œìƒ
}

// ë¡œê·¸ í˜•ì‹
interface LogEntry {
  timestamp: string;
  level: LogLevel;
  service: string;
  message: string;
  metadata?: Record<string, unknown>;
  traceId?: string;
}
```

### 8.3 ì•Œë¦¼ ê·œì¹™

| ì¡°ê±´ | ì‹¬ê°ë„ | ì•Œë¦¼ ì±„ë„ |
|------|--------|----------|
| ì—ëŸ¬ìœ¨ > 1% | Critical | Slack + PagerDuty |
| ì‘ë‹µ ì‹œê°„ > 2s | Warning | Slack |
| ê°€ìš©ì„± < 99% | Critical | Slack + PagerDuty |
| DB ì—°ê²° ì‹¤íŒ¨ | Critical | Slack + PagerDuty |

---

## 9. ì¬í•´ ë³µêµ¬

### 9.1 ë°±ì—… ì •ì±…

| ëŒ€ìƒ | ì£¼ê¸° | ë³´ê´€ ê¸°ê°„ |
|------|------|----------|
| PostgreSQL | ë§¤ì¼ | 30ì¼ |
| ë¯¸ë””ì–´ íŒŒì¼ | ì‹¤ì‹œê°„ | ë¬´ê¸°í•œ |
| ì„¤ì • íŒŒì¼ | Git | ë¬´ê¸°í•œ |

### 9.2 ë³µêµ¬ ëª©í‘œ

| ì§€í‘œ | ëª©í‘œ |
|------|------|
| **RTO** (ë³µêµ¬ ì‹œê°„ ëª©í‘œ) | 4ì‹œê°„ |
| **RPO** (ë³µêµ¬ ì‹œì  ëª©í‘œ) | 24ì‹œê°„ |

---

## 10. í–¥í›„ ì•„í‚¤í…ì²˜ ë°œì „

### 10.1 Phase 2 ì¶”ê°€ ì‚¬í•­

- Supabase Realtime ì±„íŒ… í†µí•©
- Toss Payments ê²°ì œ ì—°ë™
- Redis ìºì‹± ë ˆì´ì–´

### 10.2 Phase 3 ì¶”ê°€ ì‚¬í•­

- AI ì¶”ì²œ ì—”ì§„
- React Native ëª¨ë°”ì¼ ì•±
- CDN ìµœì í™”

---

**ì´ ì•„í‚¤í…ì²˜ëŠ” í”„ë¡œì íŠ¸ ì„±ì¥ì— ë”°ë¼ ì§€ì†ì ìœ¼ë¡œ ë°œì „í•©ë‹ˆë‹¤.**

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… VALIDATION CHECKLIST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
- [x] ëª©ì ì´ ëª…í™•í•˜ê²Œ ì •ì˜ë¨
- [x] C4 ë‹¤ì´ì–´ê·¸ë¨ í¬í•¨
- [x] ê¸°ìˆ  ìŠ¤íƒ ëª…ì‹œ
- [x] ë°ì´í„° íë¦„ ë‹¤ì´ì–´ê·¸ë¨
- [x] ë³´ì•ˆ ì•„í‚¤í…ì²˜ í¬í•¨
- [x] í™•ì¥ì„± ì„¤ê³„ í¬í•¨
- [x] í•œêµ­ì–´(Korean)ë¡œ ì‘ì„±ë¨
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
