@tailwind base;
@tailwind components;
@tailwind utilities;

@font-face {
  font-family: 'Cafe24ProSlim';
  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/2511-1@1.0/Cafe24PROSlim-Light.woff2') format('woff2');
  font-weight: 300;
  font-display: swap;
}

@font-face {
  font-family: 'Cafe24ProSlim';
  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/2511-1@1.0/Cafe24PROSlim-Regular.woff2') format('woff2');
  font-weight: 400;
  font-display: swap;
}

@font-face {
  font-family: 'Cafe24ProSlim';
  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/2511-1@1.0/Cafe24PROSlim-Bold.woff2') format('woff2');
  font-weight: 700;
  font-display: swap;
}

@layer base {
  :root {
    /* Color Palette - Light Mode */
    --tee-background: #F7F4F0;
    --tee-surface: #FFFFFF;
    --tee-stone: #E8E8E5;
    --tee-ink-strong: #1A1A1A;
    --tee-ink-light: #52524E;
    --tee-ink-muted: #5E5E5A; /* WCAG 4.5:1 contrast ratio */
    --tee-accent-primary: #0A362B;
    --tee-accent-primary-hover: #072A21;
    --tee-accent-primary-active: #051E18;
    --tee-accent-primary-disabled: #B4C6BF;
    --tee-accent-secondary: #B39A68;
    --tee-error: #D32F2F;
    --tee-success: #388E3C;
    --tee-warning: #FBC02D;
    --tee-info: #1976D2;
    --tee-overlay-strong: rgba(0, 0, 0, 0.8);
    --tee-overlay-medium: rgba(0, 0, 0, 0.5);
    --tee-overlay-light: rgba(0, 0, 0, 0.2);

    /* Brand Colors */
    --tee-kakao: #FEE500;
    --tee-kakao-text: #3C1E1E;

    /* Font Families */
    --font-pretendard: 'Cafe24ProSlim', sans-serif;
    --font-inter: 'Cafe24ProSlim', sans-serif;
    /* --font-jetbrains-mono: 'JetBrains Mono', monospace; */
  }

  /* Dark Mode - supports both .dark class and data-theme attribute */
  .dark,
  [data-theme="dark"] {
    --tee-background: #1A1A17;
    --tee-surface: #2A2A27;
    --tee-stone: #3A3A37;
    --tee-ink-strong: #FAFAF9;
    --tee-ink-light: #A8A8A5;
    --tee-ink-muted: #9A9A97; /* WCAG 4.5:1 contrast ratio */
    --tee-accent-primary: #4ABA9A;
    --tee-accent-primary-hover: #5FCBAB;
    --tee-accent-primary-active: #3AA98A;
    --tee-accent-primary-disabled: #2A4A42;
    --tee-accent-secondary: #D4B888;
    --tee-error: #EF5350;
    --tee-success: #66BB6A;
    --tee-warning: #FFCA28;
    --tee-info: #42A5F5;
    --tee-overlay-strong: rgba(0, 0, 0, 0.8);
    --tee-overlay-medium: rgba(0, 0, 0, 0.5);
    --tee-overlay-light: rgba(0, 0, 0, 0.2);
  }

  /* Theme transition - smooth color changes */
  html {
    transition: background-color 300ms ease-in-out, color 300ms ease-in-out;
  }

  /* Disable transitions on theme change to prevent FOUC */
  html.disable-transitions,
  html.disable-transitions * {
    transition: none !important;
  }

  /* Base styles */
  html {
    @apply text-body font-pretendard text-tee-ink-strong bg-tee-background;
    scroll-behavior: smooth;
  }

  body {
    @apply antialiased;
    transition: background-color 300ms ease-in-out;
  }

  /* Headings */
  h1 {
    @apply text-h1 font-pretendard;
  }

  h2 {
    @apply text-h2 font-pretendard;
  }

  h3 {
    @apply text-h3 font-pretendard;
  }

  /* Links */
  a {
    @apply text-tee-accent-primary hover:underline;
  }

  /* Accessibility: Focus Ring */
  *:focus-visible {
    @apply outline-none ring-2 ring-tee-accent-primary ring-offset-2;
  }

  /* Custom utility for stagger animation */
  .stagger-fade-in > * {
    opacity: 0;
    animation: fadeInAnimation 0.5s ease-out forwards;
  }

  .stagger-fade-in > *:nth-child(1) { animation-delay: 0.1s; }
  .stagger-fade-in > *:nth-child(2) { animation-delay: 0.2s; }
  .stagger-fade-in > *:nth-child(3) { animation-delay: 0.3s; }
  .stagger-fade-in > *:nth-child(4) { animation-delay: 0.4s; }
  .stagger-fade-in > *:nth-child(5) { animation-delay: 0.5s; }
  /* Add more as needed for the maximum number of staggered items */

  @keyframes fadeInAnimation {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Accessibility: Reduced Motion */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* Accessibility: High Contrast */
  @media (prefers-contrast: more) {
    :root {
      --tee-stone: #666666;
      --tee-ink-light: #333333;
      --tee-ink-muted: #555555;
    }

    .dark,
    [data-theme="dark"] {
      --tee-stone: #888888;
      --tee-ink-light: #CCCCCC;
      --tee-ink-muted: #AAAAAA;
    }

    /* Increase border visibility */
    *:focus-visible {
      outline: 3px solid currentColor !important;
      outline-offset: 2px !important;
    }
  }
}
